---
title: "fictional-character-personalities"
author: "Alex Cookson"
date: "31/07/2020"
output: html_document
---

```{r setup, message = FALSE, warning = FALSE}
library(tidyverse)

# Change this to GitHub link before publishing
personalities <- read_tsv("~/data/fictional-character-personalities/personalities.txt")
```

```{r eda}
personalities %>%
  mutate(spectrum_name = paste(spectrum_low, spectrum_high, sep = "_")) %>%
  select(character_code, spectrum_name, mean) %>%
  pivot_wider(names_from = spectrum_name, values_from = mean, values_fill = NA)
```

```{r random-spectrum-top-characters}
personalities %>%
  filter(spectrum == sample(unique(spectrum), 1)) %>%
  top_n(16, wt = mean) %>%
  mutate(fictional_work = fct_reorder(paste(character_name, fictional_work, sep = " | "), mean),
         label = paste(spectrum_low, spectrum_high, sep = " / ")) %>%
  ggplot(aes(mean, fictional_work)) +
  geom_point(size = 3) +
  geom_text(aes(label = label),
            hjust = 1,
            nudge_x = -1)
```



